chmod是一个用来改变*nix系统文件访问权限的命令。

在UNIX系统家族里，文件或目录权限的控制分别以读取、写入、执行3种一般权限来区分，另有3种特殊权限可供运用。用户可以使用chmod指令去变更文件与目录的权限，设置方式采用文字或数字代号皆可。符号连接的权限无法变更，如果用户对符号连接修改权限，其改变会作用在被连接的原始文件。

#### 权限范围的表示法如下：
- u User，即文件或目录的拥有者；
- g Group，即文件或目录的所属群组；
- o Other，除了文件或目录拥有者或所属群组之外，其他用户皆属于这个范围；
- a All，即全部的用户，包含拥有者，所属群组以及其他用户；
- r 读取权限，数字代号为“4”;
- w 写入权限，数字代号为“2”；
- x 执行或切换权限，数字代号为“1”；
- \- 不具任何权限，数字代号为“0”；
- s 特殊功能说明：变更文件或目录的权限。

#### 语法

    chmod (选项) (参数)

#### 选项
- \-c或\-\-changes：效果类似“-v”参数，但仅回报更改的部分；
- \-f或\-\-quiet或\-\-silent：不显示错误信息；
- \-R或\-\-recursive：递归处理，将指令目录下的所有文件及子目录一并处理；
- \-v或\-\-verbose：显示指令执行过程；
- \-\-reference=<参考文件或目录>：把指定文件或目录的所属群组全部设成和参考文件或目录的所属群组相同；
- <权限范围>+<权限设置>：开启权限范围的文件或目录的该选项权限设置；
- <权限范围>-<权限设置>：关闭权限范围的文件或目录的该选项权限设置；
- <权限范围>=<权限设置>：指定权限范围的文件或目录的该选项权限设置；

#### 参数
- 权限模式：指定文件的权限模式；
- 文件：要改变权限的文件。

例如使用`ls -lh`查看文件：
```
-rwxrw-r--  1 ubuntu adm       0 Mar 22 08:22 example
```
其中`-rwxrw-r--`表示了文件类型和文件权限。

ubuntu表示文件所有者，adm表示文件所属group。

第一个`-`表示这是一个文件，如果这个位置是`d`表示它是一个文件夹，如果是`l`表示它是一个链接文件。（更多的类型网上资料丰富，不在此赘述）

`rwxrw-r--`每3个位置一组，r表示读权限，w表示写权限，x表示执行权限。
从左往右表示所有者、组用户、其他用户的访问权限。

比如example这个文件的权限就是所有者ubuntu可以读、写、执行；adm组用户可以读、写，不可以执行，其他用户只可以读。

## 命令举例：

#### 增加或减少权限：
- 为所有用户都增加写权限
```
chmod a+w example
```
- 为所属group增加执行权限
```
chmod g+x example
```
- 去除其他用户的读权限
```
chmod o-r example
```
- 可以叠加指定用户、指定权限，例如为所属group、其他用户增加写、执行权限
```
chmod go+wx example
```
- 可以用逗号隔开多组用户、权限
```
chmod u+x,o-w example
```

#### 用直接指定的方式改变权限：
- 所有用户都赋予读写执行权限
```
chmod a=rwx example
```
- 所有者全部权限，所属group读写权限，其他用户读权限
```
chmod u=rwx,g=rw,o=r example
```

#### 用数字方式直接指定权限
- 每个`rwx`看做8进制数，r是4，w是2，x是1，这样7就是全部权限，6就是读+写权限，5就是读+执行权限，4是读权限，3是写+执行权限，2是写权限，1是执行权限，0是无权限。
- 为所有者赋予读写权限，剥夺同group和其他用户所有权限 
```
chmod 600 example
```
- 为所有者赋予全部权限，同group和其他用户赋予读+执行权限 
```
chmod 755 example
```
- 对一个文件夹执行命令时，加上`-R`参数可以递归地将其下所有文件、文件夹变为同样权限 
```
chmod -R a+rwx,go-w example_dir
chmod -R u=rwx,go=rx example_dir
chmod -R 755 example_dir
```


**对一个链接文件执行的chmod实际作用在它指向的文件上。**

参考资料：http://man.linuxde.net/chmod
